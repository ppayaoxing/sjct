<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:q="http://www.qfw.com/jsf/ui" xmlns:p="http://primefaces.org/ui">
<ui:composition template="/templates/main.xhtml">
	<ui:define name="body">
	<script type="text/javascript">
			$(document).ready(function(e) {
				$(".select1").uedSelect({
					width : 350
				});
			});
		</script>
		<div class="formbody">

			<h:form id="messageForm">
				<ul class="forminfo">
					<p:growl autoUpdate="true"></p:growl>
					<li><label>模板代码</label> <h:inputText id="msgTmpCode"
							value="#{addMessageBean.message.msgTmpCode}" immediate="false"
							required="true" label="模板代码" requiredMessage="模板代码不能为空"
							styleClass="dfinput"  maxlength="32">
							<p:ajax event="blur" update="deptCodeMsg" />
						</h:inputText></li>
					<li><label>模板名称</label> <h:inputText id="msgTmpName"
							value="#{addMessageBean.message.msgTmpName}" immediate="false"
							required="true" label="模板名称" requiredMessage="模板名称不能为空"
							styleClass="dfinput"  maxlength="32">
							<p:ajax event="blur" update="deptCodeMsg" />
						</h:inputText></li>
					<li><label>标题</label> <h:inputText id="msgTmpSubject"
							value="#{addMessageBean.message.msgTmpSubject}" immediate="false"
							required="true" label="标题" requiredMessage="标题不能为空"  maxlength="500"
							styleClass="dfinput">
							<p:ajax event="blur" update="deptCodeMsg" />
						</h:inputText></li>
					<li><label>模板内容</label> <h:inputTextarea id="msgTmpContent" style="height:150px;"
							value="#{addMessageBean.message.msgTmpContent}" immediate="false"
							required="true" label="模板内容" requiredMessage="模板内容不能为空"
							styleClass="dfinput">
							<p:ajax event="blur" update="deptCodeMsg" />
						</h:inputTextarea></li>
					<li><label>交易类型</label> 
						<div class="vocation">
							<h:selectOneMenu styleClass="select1"
								value="#{addMessageBean.message.eventType}">
								<f:selectItem  itemLabel="请选择" itemValue="" />
								<f:selectItems value="#{fn:getSelectItems('eventType')}"></f:selectItems>
							</h:selectOneMenu>
						</div></li>
					<li><label>模板类型</label> 
						<div class="vocation">
							<h:selectOneMenu styleClass="select1" required="true" requiredMessage="模板类型不能为空"
								value="#{addMessageBean.message.msgTmpTypeCd}">
								<f:selectItem  itemLabel="请选择" itemValue="" />
								<f:selectItems value="#{fn:getSelectItems('msgTmpTypeCd')}"></f:selectItems>
							</h:selectOneMenu>
						</div></li>
					<li><label>&nbsp;</label> <p:commandButton styleClass="btn"
							value="保存" action="#{addMessageBean.operate}" oncomplete="refreshParent();"
							rendered="#{addMessageBean.operateFlag != 'view'}"></p:commandButton>&nbsp;&nbsp;
						<p:commandButton styleClass="btn" value="关闭" type="button" onclick="closeParMainDialog();"></p:commandButton></li>
				</ul>
			</h:form>
		</div>

	</ui:define>
</ui:composition>

</html>